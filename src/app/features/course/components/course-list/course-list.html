<div class="container mx-auto p-8 bg-gray-50 min-h-screen rounded-xl shadow-inner">
  <h1 class="text-5xl font-extrabold text-center text-blue-800 mb-12 drop-shadow-lg">Catalogo de Cursos Universitarios
  </h1>

  <div class="mb-8 flex flex-col sm:flex-row items-center justify-center gap-4 p-6 bg-white rounded-xl shadow-md">
    <input type="text" placeholder="Buscar cursos por nombre o codigo (ej. Programacion, CS101)"
      class="flex-grow p-3 border text-gray-400 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-lg"
      [(ngModel)]="filterTerm" (input)="filterCourses()">
    <button class="w-full sm:w-auto bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold">Filtrar Cursos</button>
  </div>

  @if(loading){
  <div class="flex justify-center items-center h-64">
    <div class="animate-spin rounded-full h-20 w-20 border-b-4 border-blue-500"></div>
    <p class="ml-4 text-2xl text-blue-600">Cargando Cursos...</p>
  </div>
  }@else if(courses.length === 0 && !loading){
  <div class="text-center p-8 text-2xl text-gray-500 bg-yellow-50 border border-yellow-300 rounded-lg shadow-md">
    <p class="font-bold mb-2">No se encontraron cursos que coincidan con tu busqueda.</p>
    <p>Intenta con otro elemento o reinicia el filtro</p>
  </div>
  }@else {
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
    @for(course of courses; track course.id){
    <div
      class="bg-white rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:translate-y-1 overflow-hidden flex flex-col">
      <img [src]="course.imageUrl" [alt]="course.name" class="w-full h-40 object-cover rounded-xl">
      <div class="p-6 flex flex-col flex-grow">
        <h2 class="text-2xl font-bold text-gray-900">{{ course.code}} - {{course.name}}</h2>
        <p class="text-gray-700 text-sm mb-2">Profesor: <span
            class="font-semibold text-blue-700">{{course.professor}}</span></p>
        <p class="text-gray-700 text-sm mb-4">Creditos: <span class="font-semibold">{{course.credits}}</span></p>
        <p class="text-gray-600 text-base mb-4 line-clamp-3">{{course.description}}</p>
        <button
          class="mt-auto w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-700 transition-colors duration-300 shadow-md hover:shadow-lg">
          Ver Detalle del Curso</button>
      </div>
    </div>
    }@empty {

    }
  </div>
  }
</div>